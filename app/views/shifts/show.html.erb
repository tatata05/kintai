<% provide(:title, "shift_show") %>
<div class="top">
  <h2>シフト詳細</h2>
  <% if @shift == nil %>
    <p>該当するシフトは存在しません</p>
  <% else %>
    <div>
      <p>[従業員名]<br><%= @shift.employee.name %></p>
      <p>[開始時間]<br><%= @shift.start_time %></p>
      <p>[終了時間]<br><%= @shift.end_time %></p>
      <p>[ステータス]<br><%= @shift.status %></p>
    </div>
    <% if employee_signed_in? %>
      <%= link_to "編集", edit_shift_path, class: "btn btn-primary" %>
      <%= link_to "取消", @shift, method: :delete, data: {confirm: "シフトを削除してよろしいですか？"}, class: "btn btn-primary" %>
    <% end %>
    <% if admin_signed_in? %>
      <% if @shift.status == "approved" || @shift.status == "rejected" %>
        <%= link_to "未承認に戻す", shift_path(shift: {status: "unapproved"}), method: :put, class: "btn btn-primary" %>
      <% elsif @shift.status == "unapproved" %>
        <%= link_to "承認", shift_path(shift: {status: "approved"}), method: :put, class: "btn btn-primary" %>
        <%= link_to "却下", shift_path(shift: {status: "rejected"}), method: :put, class: "btn btn-primary" %>
      <% end %>
    <% end %>
  <% end %>
</div>
