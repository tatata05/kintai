<% provide(:title, "Notifications_Index") %>
<div class="top">
  <h2>通知一覧</h2>
  <% @notifications.each do |notification| %>
    <% if notification.employee_id.present? && notification.employee_id == current_employee.id %>
      <p>[<%= notification.read %>]</p>
      <p><%= link_to "シフトを申請していません", employee_notification_path(notification.id), method: :put %></p>
      <p>シフトを申請しておりません。早急に申請してください。</p>
    <% elsif notification.shift_id.present? && notification.shift.employee.id == current_employee.id %>
      <% case notification.kind %>
      <% when "approval" %>
        <p>[<%= notification.read %>]</p>
        <p><%= link_to "シフトが承認されました", employee_notification_path(notification.id), method: :put %></p>
        <p>シフトが承認されました。</p>
      <% when "rejected" %>
        <p>[<%= notification.read %>]</p>
        <p><%= link_to "シフトが却下されました", employee_notification_path(notification.id), method: :put %></p>
        <p>シフトが却下されました。</p>
      <% end %>
    <% elsif notification.absence_id.present? && notification.absence.shift.employee.id == current_employee.id %>
      <% case notification.kind %>
      <% when "approval" %>
        <p>[<%= notification.read %>]</p>
        <p><%= link_to "欠勤が承認されました", employee_notification_path(notification.id), method: :put %></p>
        <p>欠勤が承認されました。</p>
      <% when "rejected" %>
        <p>[<%= notification.read %>]</p>
        <p><%= link_to "欠勤が却下されました", employee_notification_path(notification.id), method: :put %></p>
        <p>欠勤が却下されました。</p>
      <% end %>
    <% end %>
  <% end %>
</div>
